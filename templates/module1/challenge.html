{% extends 'decisions/base.html' %}
{% load bootstrap %}
{% load area_tags %}
{% block title %}{% block h1 %}Module {{ module.display_num }} - Critical Concepts Challenge{% endblock %}{% endblock %}
{% block content %}
    <h2 class="center">How Could It Fail?</h2>

    <h3 class="center" style="margin: 40px; font-weight: normal;">
        <input type="text" name="decision" class="cc decision center" style="border-bottom: 2px solid lightgray;"
               size="40" value="{{ module.decision }}" readonly="readonly"/>
    </h3>

    <h3>
        Now that you've figured out what is important to you test yourself:<br/>
        for each Critical Concept, write down what might cause your decision to fail to meet it.
    </h3>
    <h3>
        Edit your Critical Concepts if you've realized that they need to be changed.
    </h3>

    <table class="table">
        <thead>
        <tr>
            <th>Your Critical Concepts</th>
            <th>Fails If...</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <td>1. <input type="text" name="cc[]" class="cc" id="1" value="{{ cc.0 }}" size="30"/></td>
            <td>1. <input type="text" name="cc_not[]" class="cc" id="2" value="{{ cc_not.0 }}" size="30"/></td>
        </tr>
        <tr>
            <td>2. <input type="text" name="cc[]" class="cc" id="3" value="{{ cc.1 }}" size="30"/></td>
            <td>2. <input type="text" name="cc_not[]" class="cc" id="4" value="{{ cc_not.1 }}" size="30"/></td>
        </tr>
        <tr>
            <td>3. <input type="text" name="cc[]" class="cc" id="5" value="{{ cc.2 }}" size="30"/></td>
            <td>3. <input type="text" name="cc_not[]" class="cc" id="6" value="{{ cc_not.2 }}" size="30"/></td>
        </tr>
        <tr>
            <td> </td>
            <td> </td>
        </tr>
        </tbody>
    </table>

    <div class="center">
        <input id="next" type="submit" name="submit" value="Submit Critical Concepts"/>
    </div>

    {% get_back_link module "cheetah" %}

    <script type="text/javascript">
        function validate() {
            var valid = true;
            $('.cc').each(function () {
                if ($(this).val().length < 5) {
                    if (valid) {
                        // console.log($(this));
                        alert("Please provide 3 critical concepts and potential issues.");
                        $(this).focus();
                    }
                    valid = false;
                }
            });
            return valid;
        }
    </script>
{% endblock %}
